{"ast":null,"code":"import _slicedToArray from\"/Users/jiaye/Documents/GitHub/svinfo6250-student-jiayeli01/final/my-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import'./App.css';import{useState}from'react';import MenuPage from'./MenuPage';import LoginForm from'./LoginForm';import Logout from'./Logout';import CartButton from'./CartButton';import Cart from'./Cart';import Checkout from'./Checkout';import{fetchCart,fetchLogin,fetchLogout,fetchMenu,fetchCheckout}from'./services';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function App(){var _useState=useState(false),_useState2=_slicedToArray(_useState,2),isLoggedIn=_useState2[0],setIsLoggedIn=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),username=_useState4[0],setUsername=_useState4[1];var _useState5=useState({}),_useState6=_slicedToArray(_useState5,2),cart=_useState6[0],setCart=_useState6[1];var _useState7=useState(true),_useState8=_slicedToArray(_useState7,2),menu=_useState8[0],setMenu=_useState8[1];var _useState9=useState([]),_useState10=_slicedToArray(_useState9,2),menuItems=_useState10[0],setMenuItems=_useState10[1];function onLogin(username){fetchLogin(username).then(function(data){setIsLoggedIn(true);setUsername(data.username);setCart(data.cart);getMenu();}).catch(function(error){console.log(error);});}function getMenu(){fetchMenu().then(function(data){return setMenuItems(data);});}function getCart(){fetchCart().then(function(data){setCart(data);setMenu(false);});}function onLogout(){setIsLoggedIn(false);setUsername('');setCart({});setMenu(true);fetchLogout().catch(function(error){console.log(error);});}function onCheckout(){fetchCheckout().then(function(data){setCart(data);setMenu(true);});}return/*#__PURE__*/_jsx(\"div\",{className:\"app\",children:isLoggedIn?/*#__PURE__*/_jsx(\"main\",{children:menu?/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(CartButton,{viewCart:getCart}),/*#__PURE__*/_jsx(MenuPage,{menuItems:menuItems}),/*#__PURE__*/_jsx(Logout,{onLogout:onLogout})]}):/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Cart,{cartItems:cart}),/*#__PURE__*/_jsx(Checkout,{oncheckout:onCheckout}),/*#__PURE__*/_jsx(Logout,{onLogout:onLogout})]})}):/*#__PURE__*/_jsx(LoginForm,{onLogin:onLogin})});}export default App;","map":{"version":3,"names":["useState","MenuPage","LoginForm","Logout","CartButton","Cart","Checkout","fetchCart","fetchLogin","fetchLogout","fetchMenu","fetchCheckout","jsx","_jsx","jsxs","_jsxs","App","_useState","_useState2","_slicedToArray","isLoggedIn","setIsLoggedIn","_useState3","_useState4","username","setUsername","_useState5","_useState6","cart","setCart","_useState7","_useState8","menu","setMenu","_useState9","_useState10","menuItems","setMenuItems","onLogin","then","data","getMenu","catch","error","console","log","getCart","onLogout","onCheckout","className","children","viewCart","cartItems","oncheckout"],"sources":["/Users/jiaye/Documents/GitHub/svinfo6250-student-jiayeli01/final/my-app/src/App.jsx"],"sourcesContent":["import './App.css';\nimport { useState } from 'react';\n\nimport MenuPage from './MenuPage';\nimport LoginForm from './LoginForm';\nimport Logout from './Logout';\nimport CartButton from './CartButton';\nimport Cart from './Cart';\nimport Checkout from './Checkout';\n\nimport { fetchCart, fetchLogin, fetchLogout, fetchMenu, fetchCheckout } from './services';\n\nfunction App() {\n  const [isLoggedIn, setIsLoggedIn] = useState(false);\n  const [username, setUsername] = useState('');\n  const [cart, setCart] = useState({});\n  const [menu, setMenu] = useState(true);\n  const [menuItems, setMenuItems] = useState([]);\n\n  function onLogin( username ) {\n    fetchLogin(username)\n    .then((data) => {\n      setIsLoggedIn(true);\n      setUsername(data.username);\n      setCart(data.cart);\n      getMenu();\n    })\n    .catch((error) => {\n      console.log(error);\n    });\n  }\n\n  function getMenu() {\n    fetchMenu().then(data => setMenuItems(data));\n  }\n  \n  function getCart(){\n    fetchCart().then((data) => {\n      setCart(data);\n      setMenu(false);\n    })\n  }\n\n  function onLogout() {\n    setIsLoggedIn(false);\n    setUsername('');\n    setCart({});\n    setMenu(true);\n    fetchLogout().catch((error) => {console.log(error);});\n  }\n\n  function onCheckout() {\n    fetchCheckout().then((data) => {\n      setCart(data);\n      setMenu(true);\n    })\n  }\n\n  return (\n    <div className=\"app\">\n      {isLoggedIn ? (\n          <main>\n              {menu ? (\n              <div>\n                <CartButton viewCart={getCart} />\n                <MenuPage menuItems = {menuItems}/>\n                <Logout onLogout={onLogout} />\n              </div>\n            ) : (\n              <div>\n                <Cart cartItems={cart}/>\n                <Checkout oncheckout={onCheckout}/>\n                <Logout onLogout={onLogout} />\n              </div>\n            )}\n          </main>\n        ) : (\n          <LoginForm onLogin={onLogin} />\n        )}\n    </div>\n  );\n}\n\nexport default App;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}